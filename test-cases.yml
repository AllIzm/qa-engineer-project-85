---
- summary: |
    Успешная регистрация пользователя по e-mail
  requirement: |
    Возможность зарегистрироваться на Codebattle через e-mail 
  prerequisites: |
    Окрыта страница регистрации
  test-data: |
    Nickname = Varya Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Повторная регистрация существующего пользователя Codebattle
  requirement: |
    При повторной регистрации пользователь должен получить сообщение об ошибке
  prerequisites:
    Открыта страница регистрации
  test-data: |
    Nickname = Varya Email = test-ex@list.ru Password = Password-test-ex
  steps:
    -  Вводим Nickname
    -  Вводим Email
    -  Вводим пароль
    -  Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен получить сообщение об ошибке "Nickname/Email is already taken"

- summary: |
    Успешная авторизация пользователя по e-mail
  requirement: |
    При верном вводе логина и пароля происходит успешная авторизация на Codebattle
  prerequisites: |
    Окрыта страница логина
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Вводим Email
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен авторизоваться и попасть на главную страницу

- summary: |
    Успешное подключение зрителей к батлу в режиме online
  requirement: |
    На главной странице можно присоединиться к просмотру баттла, который идёт в данный момент
  prerequisites: |
    Окрыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Выбрать вкладку "Lobby"
    - Нажать на кнопку "Show" напротив лобби, где есть оба соперника
  expected-result: |
    Пользователь должен попасть на страницу баттла и видеть изменения в режиме реального времени

- summary: |
    Зритель не может писать и изменять код участников баттла
  requirement: |
    Зритель может только наблюдать за поединком без возможности вносить изменения в редакторы участников
  prerequisites:
    Открыта главная страница
    Успешно авторизованный аккаунт Codebattle
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Выбрать вкладку "Lobby"
    - Нажать на кнопку "Show" напротив лобби, где есть оба соперника
    - Навести курсор на любое место в терминалах участников и нажать ЛКМ
    - Начать вводить "abcde"
  expected-result: |
    Ничего не должно произойти. Вводимые символы не должны вписываться в терминалах

- summary: |
    Зритель не может писать и отправлять сообщения в уникальный игровой чат участников баттла
  requirement: |
    Зритель может только наблюдать за поединком без возможности вносить отправлять сообщения в чат
  prerequisites:
    Открыта главная страница
    Успешно авторизованный аккаунт Codebattle
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Выбрать вкладку "Lobby"
    - Нажать на кнопку "Show" напротив лобби, где есть оба соперника
    - Навести курсор на строку набора сообщений в игровой чат участников и нажать ЛКМ
    - Начать вводить "abcde"
  expected-result: |
    Ничего не должно произойти. Вводимые символы не должны вписываться в строку

- summary: |
    Отображение на главной странице баттла незарегистрированного пользователя с ботом
  requirement: |
    На главной странице должны быть отображены баттлы, которые проходят в данный момент
  prerequisites:
    Незарегистрированным пользователем Codebattle выбрана опция "TRY SIMPLE GAME" 
    Открыта главная страница у пользователя с авторизованным аккаунтом Codebattle 
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Выбрать вкладку "Lobby"
    - Найти в списке на странице баттл незарегистрированного пользователя (John Doe) с ботом    
  expected-result: |
    Баттл должен быть в списке баттлов, проходящих в данный момент 

- summary: |
    Успешное создание приглашения на баттл
  requirement: |
    Пользователь может отправить приглашение на баттл, выбрав тип игры "With a friend"
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex 
  steps:
    - Нажать кнопку "CREATE A GAME"
    - В открывшемся окне выбрать Game Type "With a friend"
    - Выбрать соперника в раскрывающемся списке "Choose opponent"
    - Нажать кнопку "Create Invite"
  expected-result: |
    Пользователь находится в режиме ожидания: на главной странице отобразился бейдж на иконке баттлов  

- summary: |
    Отображение уведомления об отклонении запроса на батл
  requirement: |
    Пользователь может отправить приглашение на баттл, выбрав тип игры "With a friend"
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Создан баттл с приглашением другого пользователя
    На главной странице отобразился бейдж на иконке баттлов
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - На главной странице ожидать ответа соперника на приглашение
  epected-result: |
    Пользователь должен увидеть уведомление об отклонении запроса на батл

- summary: |
    Создание приглашения на баттл "with a friend" без выбора соперника
  requirement: |
    Возможность Участника выбрать тип игры - с другом
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Нажать кнопку "CREATE A GAME"
    - В открывшемся окне выбрать Game Type "With a friend"
    - Нажать кнопку "Create Invite"
  expected-result: |
    Кнопка "Create Invite" должна оставаться неактивной. Пользователь должен увидеть уведомление о необходимости выбора соперника.

- summary: |
    Создание приглашения на баттл "with a friend" с выбором задания
  requirement: |
    Пользователь может отправить приглашение на баттл, выбрав определенный тип задания
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex 
  steps:
    - Нажать кнопку "CREATE A GAME"
    - В открывшемся окне выбрать Game Type "With a friend"
    - Выбрать соперника в раскрывающемся списке "Choose opponent"
    - Выбрать тип задания "rect_area"
    - Нажать кнопку "Create Invite"
  expected-result: |
    Когда соперник примет приглашение на баттл, откроется игровая страница с выбранным типом задания.  

- summary: |
    Начисление очков за выигрыш в баттле по завершению лимита времени таймера
  requirement: |
    По окончании отсчета времени на таймере очки за правильно введеннное решение не должны быть начислены
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта игровая страница баттла с ботом
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - После окончания времени отсчёта таймера в окне редактора ввести решение 
    - Нажать кнопку "Check solution"
  expected-result: |
    Во вкладке "Output" появляется сообщение об успешном прохождении тестов, но очки за игру не начисляются. Игра не попадает в историю.

- summary: |
    Отображение запроса на переигровку от соперника после окончания баттла
  requirement: |
    По окончании батла пользователь может получить запрос от соперника переиграть баттл
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта игровая страница
    Окончен баттл с выявлением победителя
    Соперник отправил запрос на Rematch
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Ввести "Yes" в поле "Accept Remath"
    - Нажать Enter
  expected-result: |
    На игровой странице открывается новая игра с ранее выбраным соперником.

- summary: |
    Отображение в мобильной версии игровой страницы баттла
  requirement: |
    Сайт должен быть удобным на мобильном устройстве
  prerequisites:
    Успешно авторизованный аккаунт
    Открыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Нажать кнопку "CREATE A GAME"
    - В появившемся окне выбрать параметры баттла и нажать "Create Battle"
  expected-result: |
    Игровая страница баттла адаптирована под экран мобильного устройства.

- summary: |
    Отображение в мобильной версии бейджа гайда запроса в произвольной части окна редактора
  requirement: |
    Сайт должен быть удобным на мобильном устройстве
  prerequisites:
    Успешно авторизованный аккаунт
    Открыта игровая страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Закрыть окно гайда
    - Скролить экран до своего окна редактора
  expected-result: |
    На игровой странице в окне редактора не отображается лишних отвлекающих элементов.