---
- summary: |
    Успешная регистрация пользователя по e-mail
  requirement: |
    Возможность зарегистрироваться на Codebattle через e-mail
  prerequisites: |
    Окрыта страница регистрации
  test-data: |
    Nickname = Varya Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Вводим Nickname
    - Вводим Email
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь авторизован

- summary: |
    Повторная регистрация существующего пользователя Codebattle
  requirement: |
    При повторной регистрации пользователь должен получить сообщение об ошибке
  prerequisites:
    Открыта страница регистрации
  test-data: |
    Nickname = Varya Email = test-ex@list.ru Password = Password-test-ex
  steps:
    -  Вводим Nickname
    -  Вводим Email
    -  Вводим пароль
    -  Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь НЕ зарегистрирован. Видит ошибку.

- summary: |
    Успешная авторизация пользователя по e-mail
  requirement: |
    При верном вводе логина и пароля происходит успешная авторизация на Codebattle
  prerequisites: |
    Окрыта страница логина
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Вводим Email
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь авторизован

- summary: |
    Успешное подключение зрителей к батлу в режиме online
  requirement: |
    На главной странице можно присоединиться к просмотру баттла, который идёт в данный момент
  prerequisites: |
    Окрыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Выбрать вкладку "Lobby"
    - Нажать на кнопку "Show" напротив лобби, где есть оба соперника
  expected-result: |
    Пользователь должен попасть на страницу баттла и видеть изменения в режиме реального времени

- summary: |
    Проверка изменения кода чужого баттла зрителем 
  requirement: |
    Зритель может только наблюдать за поединком без возможности вносить изменения в редакторы участников
  prerequisites:
    Открыта главная страница
    Успешно авторизованный аккаунт Codebattle
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Выбрать вкладку "Lobby"
    - Нажать на кнопку "Show" напротив лобби, где есть оба соперника
    - Навести курсор на любое место в терминалах участников и нажать ЛКМ
    - Начать вводить "abcde"
  expected-result: |
    Ничего не должно произойти. Вводимые символы не должны вписываться в терминалах

- summary: |
    Проверка отправления сообщений зрителем в чат участников баттла
  requirement: |
    Зритель может только наблюдать за поединком без возможности вносить отправлять сообщения в чат
  prerequisites:
    Открыта главная страница
    Успешно авторизованный аккаунт Codebattle
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Выбрать вкладку "Lobby"
    - Нажать на кнопку "Show" напротив лобби, где есть оба соперника
    - Навести курсор на строку набора сообщений в игровой чат участников и нажать ЛКМ
    - Начать вводить "Hello"
    - Нажать Enter
  expected-result: |
    Ничего не должно произойти. Вводимые символы не должны вписываться в строку и отправляться в чат

- summary: |
    Проверка отображения баттлов от гостей
  requirement: |
    На главной странице должны быть отображены баттлы, которые проходят в данный момент
  prerequisites:
    Незарегистрированным пользователем Codebattle выбрана опция "TRY SIMPLE GAME" 
    Открыта главная страница у пользователя с авторизованным аккаунтом Codebattle 
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Выбрать вкладку "Lobby"
    - Найти в списке на странице баттл незарегистрированного пользователя с ботом    
  expected-result: |
    Баттл должен быть в списке баттлов, проходящих в данный момент 

- summary: |
    Успешное создание приглашения на баттл
  requirement: |
    Пользователь может отправить приглашение на баттл, выбрав тип игры "With a friend"
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex 
  steps:
    - Нажать кнопку "CREATE A GAME"
    - В открывшемся окне выбрать Game Type "With a friend"
    - Выбрать соперника в раскрывающемся списке "Choose opponent"
    - Нажать кнопку "Create Invite"
  expected-result: |
    Пользователь находится в режиме ожидания: на главной странице отобразился бейдж на иконке баттлов  

- summary: |
    Проверка отображения приглашения на баттл
  requirement: |
    Пользователь может отправить приглашение на баттл, выбрав тип игры "With a friend"
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Создан баттл с приглашением другого пользователя
    На главной странице отобразился бейдж на иконке баттлов
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Зайти на сайт под другим авторизованным пользователем
    - На главной странице нажать кнопку “CREATE A GAME”
    - В модальном окне выбрать рандомно Level, Time-Control, Task и Game Type “With a friend”
    - В выпадающем списке выбрать первого авторизованного пользователя
    - Нажать "Create Battle"
    - На главной странице в выпадающем списке (при нажатии на иконку приглашений на баттл) принять приглашение на баттл от первого пользователя
  epected-result: |
    Открывается игровая страница с сохранением отправленного приглашения на баттл.

- summary: |
    Создание приглашения на баттл "with a friend" без выбора соперника
  requirement: |
    Возможность Участника выбрать тип игры - с другом
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Нажать кнопку "CREATE A GAME"
    - В открывшемся окне выбрать Game Type "With a friend"
    - Нажать кнопку "Create Invite"
  expected-result: |
    Кнопка "Create Invite" должна оставаться неактивной. Пользователь должен увидеть уведомление о необходимости выбора соперника.

- summary: |
    Создание приглашения на баттл "with a friend" с выбором задания
  requirement: |
    Пользователь может отправить приглашение на баттл, выбрав определенный тип задания
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex 
  steps:
    - Нажать кнопку "CREATE A GAME"
    - В открывшемся окне выбрать Game Type "With a friend"
    - Выбрать соперника в раскрывающемся списке "Choose opponent"
    - Выбрать тип задания "rect_area"
    - Нажать кнопку "Create Invite"
  expected-result: |
    Когда соперник примет приглашение на баттл, откроется игровая страница с выбранным типом задания.  

- summary: |
    Проверка отображения запроса на переигровку от соперника после окончания баттла
  requirement: |
    По окончании батла пользователь может получить запрос от соперника переиграть баттл
  prerequisites:
    Успешно авторизованный аккаунт Codebattle
    Открыта игровая страница
    Окончен баттл с выявлением победителя
    Соперник отправил запрос на Rematch
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Кликнуть ЛКМ в поле "Accept Remath"
    - Ввести "Yes"
    - Нажать Enter
  expected-result: |
    Ничего не происходит. Поле "Accept Rematch" носит информационный характер для ответа на запрос о переигровке баттла.

- summary: |
    Отображение окна редактора страницы баттла адаптировано к мобильной версии
  requirement: |
    Сайт должен быть удобным на мобильном устройстве
  prerequisites:
    Успешно авторизованный аккаунт
    Открыта главная страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Нажать кнопку "CREATE A GAME"
    - В появившемся окне выбрать параметры баттла и нажать "Create Battle"
  expected-result: |
    Окно редактора игровой страницы баттла адаптировано под экран мобильного устройства.

- summary: |
    Отображение бейджа гайда в окне редактора в мобильной версии
  requirement: |
    Сайт должен быть удобным на мобильном устройстве
  prerequisites:
    Успешно авторизованный аккаунт
    Открыта игровая страница
  test-data: |
    Email = test-ex@list.ru Password = Password-test-ex
  steps:
    - Закрыть окно гайда
    - Скролить экран до своего окна редактора
  expected-result: |
    На игровой странице в окне редактора не отображается лишних отвлекающих элементов.